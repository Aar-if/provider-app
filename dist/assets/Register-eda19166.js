import{u,j as e}from"./index-8b64dca5.js";import{h as N,i as f}from"./tekdi-logo-black-37dfb79c.js";import{s as d}from"./register.module-7c99ab07.js";import{a as p,u as x}from"./axios-719bd9e3.js";import{c as g,a as n,o as j}from"./index.esm-435a6470.js";const b="https://onest-strapi.tekdinext.com/api",v=async a=>{console.log(a),localStorage.setItem("userName",a.userName);const r=a.userName,i=a.userEmail,s=a.password,c=a.organization,m=a.secretCode,l=1;let o;return await p.post(`${b}/auth/local/register/`,{username:r,email:i,password:s,organization:c,role:l,secret:m}).then(t=>{console.log(t),console.log(t.data),console.log(t.data.jwt),localStorage.setItem("registerJwt",t.data.jwt),t.status===200?o=!0:t.status===400&&(o=!1)}).catch(function(t){console.log(t.response.data.error.message);let h=0;return alert(t.response.data.error.message),h}),o},y=g().shape({userName:n().required("*Field required"),userEmail:n().required("*Field required"),password:n().required("*Field required"),confirmPassword:n().required("*Field required"),organization:n().required("*Field required"),secretCode:n().required("*Field required")});function E(){const a=u(),{register:r,handleSubmit:i,formState:{errors:s}}=x({resolver:j(y)}),c=async l=>{console.log(l);const o=await v(l);o==!0?(alert("Registered successfully."),a("/login")):o==!1&&alert("E-mail already exists")},m=()=>{a("./login")};return e.jsxs("div",{style:{background:"linear-gradient(to bottom, #FFFFFF, #dfe4ff)",height:"100vh"},children:[e.jsxs("div",{className:N.headerDiv,children:[e.jsx("div",{children:e.jsx("img",{src:f,style:{width:"50px",height:"auto"}})}),e.jsx("div",{style:{textAlign:"center",marginLeft:"10px",borderLeft:"2px solid gray",paddingLeft:"10px"},children:e.jsx("h3",{children:"Provide Education and Skilling Opportunities"})})]}),e.jsx("div",{className:d.formDiv,children:e.jsxs("form",{className:" card-body form-floating mt-3 mx-1",onSubmit:i(c),autoComplete:"off",children:[e.jsxs("div",{className:"container mb-3",children:[e.jsx("div",{className:"h2",style:{color:"#0F75BC"},children:"Sign up to ONEST"}),e.jsxs("div",{className:"form-floating",children:[e.jsx("input",{className:"form-control",type:"text",name:"contentName",id:"contentName",placeholder:"Name of the content",...r("userName")}),e.jsxs("label",{className:"form-label",htmlFor:"contentName",children:[" ","Name"]}),s.userName&&e.jsx("p",{children:s.userName.message})]})]}),e.jsx("div",{className:"container mb-3",children:e.jsxs("div",{className:"form-floating",children:[e.jsx("input",{className:"form-control",type:"text",name:"contentName",id:"contentName",placeholder:"Name of the content",...r("userEmail")}),e.jsxs("label",{className:"form-label",htmlFor:"contentName",children:[" ","Email"]}),s.userEmail&&e.jsx("p",{children:s.userEmail.message})]})}),e.jsx("div",{className:"container mb-3",children:e.jsxs("div",{className:"form-floating",children:[e.jsx("input",{className:"form-control",type:"password",name:"contentName",id:"contentName",placeholder:"Name of the content",...r("password")}),e.jsxs("label",{className:"form-label",htmlFor:"contentName",children:[" ","Password"]}),s.password&&e.jsx("p",{children:s.password.message})]})}),e.jsx("div",{className:"container mb-3",children:e.jsxs("div",{className:"form-floating",children:[e.jsx("input",{className:"form-control",type:"password",name:"contentName",id:"contentName",placeholder:"Name of the content",...r("confirmPassword")}),e.jsxs("label",{className:"form-label",htmlFor:"contentName",children:[" ","Confirm Password"]}),s.confirmPassword&&e.jsx("p",{children:s.confirmPassword.message})]})}),e.jsx("div",{className:"container mb-3",children:e.jsxs("div",{className:"form-floating",children:[e.jsx("input",{className:"form-control",type:"text",name:"contentName",id:"contentName",placeholder:"Name of the content",...r("organization")}),e.jsxs("label",{className:"form-label",htmlFor:"contentName",children:[" ","Organization"]}),s.organization&&e.jsx("p",{children:s.organization.message})]})}),e.jsxs("div",{className:"container mb-3",children:[e.jsxs("div",{className:"form-floating",children:[e.jsx("input",{className:"form-control",type:"text",name:"contentName",id:"contentName",placeholder:"Name of the content",...r("secretCode")}),e.jsxs("label",{className:"form-label",htmlFor:"contentName",children:[" ","Secret Code"]}),s.secretCode&&e.jsx("p",{children:s.secretCode.message})]}),e.jsx("div",{style:{marginTop:"25px"},children:e.jsx("button",{className:"btn btn-primary",children:"Sign Up as a Mentor"})}),e.jsxs("div",{children:[e.jsx("button",{onClick:m,className:d.loginButton,children:"Login"})," ","to your account."]})]})]})})]})}export{E as default};
